{% extends 'layouts/base-fullscreen.html' %}
{% load crispy_forms_tags %}

{% block title %} Login {% endblock title %}

{% block stylesheets %}
  <!-- Specific CSS goes HERE -->
  <style>
    /* Custom styles for the form */
    .card {
      border-radius: 10px;
    }

    .card-header {
      background-color: #f8f9fa;
      border-bottom: none;
    }

    .card-body {
      background-color: #fff;
    }

    .btn-primary {
      background-color: #007bff;
      border-color: #007bff;
    }

    .btn-primary:hover {
      background-color: #0056b3;
      border-color: #0056b3;
    }

    .text-muted {
      color: #6c757d;
    }

    input[type="checkbox"].custom-control-input:checked~.custom-control-label::before {
      background-color: #007bff;
      border-color: #007bff;
    }

    input[type="checkbox"].custom-control-input:focus~.custom-control-label::before {
      box-shadow: 0 0 0 1px #007bff, 0 0 0 0.2rem rgba(0, 123, 255, 0.25);
    }

    input[type="checkbox"].custom-control-input:checked:focus~.custom-control-label::before {
      box-shadow: 0 0 0 1px #007bff, 0 0 0 0.2rem rgba(0, 123, 255, 0.5);
    }

    /* Add your custom styles here */
    /* For example, you can style the loading spinner */
    #loading-spinner {
      display: none;
      text-align: center;
      margin-top: 20px;
    }

    .spinner {
      border: 4px solid rgba(0, 123, 255, 0.3);
      border-radius: 50%;
      border-top: 8px solid #007BFF;
      width: 40px;
      height: 40px;
      animation: spin 1s linear infinite;
      margin: auto;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    /* Add sliding background image effect */
    .card {
      position: relative;
      overflow: hidden;
    }

    .card:before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: url('/static/assets/img/background1.jpg');
      animation: slideBackground 20s infinite linear;
      z-index: -1;
    }
    .form{

    }

    @keyframes slideBackground {
      0% {
        transform: translateX(0);
      }
      25% {
        transform: translateX(-25%);
      }
      50% {
        transform: translateX(0);
      }
      75% {
        transform: translateX(25%);
      }
      100% {
        transform: translateX(0);
      }
    }
  </style>
{% endblock stylesheets %}

{% block content %}

<!-- Page content -->
<div class="container mt--8 pb-5">
  <div class="row justify-content-center">
    <div class="col-lg-5 col-md-7">
      <div class="card bg-secondary shadow border-0">
        <div class="card-header bg-transparent pb-5">
          <div class="text-muted text-center mt-2 mb-3">
            Sign IN
          </div>
        </div>
        <div class="card-body px-lg-5 py-lg-5">
          <div class="text-center text-muted mb-4">

            {% if msg %}
              <p>{{ msg }}</p>
            {% else %}
              <h1>
                LOGIN BELOW
              </h1>
            {% endif %}  

          </div>

          <form method="POST" id="login-form">
            {% csrf_token %}
            {{ form|crispy }}
            <div class="custom-control custom-control-alternative custom-checkbox">
              <input class="custom-control-input" id="customCheckLogin" type="checkbox">
              <label class="custom-control-label" for="customCheckLogin">
                <span class="text-muted">Remember me</span>
              </label>
            </div>
            <div class="text-center">
              <!-- Add a loading spinner -->
              <div id="loading-spinner" class="spinner"></div>
              <!-- End loading spinner -->
              <button type="submit" class="btn btn-primary my-4" onclick="showLoading()">Sign in</button>
            </div>
          </form>
        </div>
      </div>
      <div class="row mt-3">
        <div class="col-6">
          <a href="{% url 'register_user' %}" class="text-light"><small>Register</small></a>
        </div>
        <div class="col-6 text-right">
          <a href="#" class="text-light"><small>Get Support</small></a>
        </div>
      </div>
    </div>
  </div>
</div>

{% endblock content %}

{% block javascripts %}
<!-- Specific JS goes HERE -->
<script>
  function showLoading() {
    document.getElementById('loading-spinner').style.display = 'block';
  }
</script>
{% endblock javascripts %}
